<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actual Time UI Tests</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        .test-case {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f9f9f9;
            border-left: 4px solid #ddd;
            border-radius: 4px;
        }
        .test-case.passed {
            border-left-color: #28a745;
            background-color: #f0f8f4;
        }
        .test-case.failed {
            border-left-color: #dc3545;
            background-color: #fdf8f8;
        }
        .test-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .test-result {
            font-size: 14px;
            color: #666;
        }
        .passed {
            color: #28a745;
        }
        .failed {
            color: #dc3545;
        }
        .summary {
            background-color: #e7f3ff;
            border: 2px solid #007bff;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }
        .summary-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 10px;
            color: #007bff;
        }
        .summary-item {
            margin: 5px 0;
            font-size: 14px;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .controls {
            margin-bottom: 20px;
        }
        .form-demo {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .form-demo label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
        }
        .form-demo input {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            box-sizing: border-box;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>‚è±Ô∏è Actual Time UI Tests</h1>
    
    <div class="controls">
        <button onclick="runAllTests()">Run All Tests</button>
        <button onclick="resetForm()">Reset Form</button>
    </div>

    <div class="form-demo">
        <h2>ÂÆüÁ∏æÊôÇÈñìÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ„ÅÆ„Éá„É¢</h2>
        <form id="demo-form">
            <label for="demo-estimated-time">Ë¶ãÁ©ç„ÇÇ„ÇäÊôÇÈñì (ÊôÇÈñì):</label>
            <input type="number" id="demo-estimated-time" min="0" step="0.5" value="5">

            <label for="demo-actual-time">ÂÆüÁ∏æÊôÇÈñì (ÊôÇÈñì):</label>
            <input type="number" id="demo-actual-time" min="0" step="0.5" value="0">

            <label for="demo-task-name">„Çø„Çπ„ÇØÂêç:</label>
            <input type="text" id="demo-task-name" value="Sample Task">
        </form>
    </div>

    <div id="test-results"></div>
    <div id="summary"></div>

    <script>
        // Test utilities
        const testResults = [];

        function addTestResult(testName, passed, message) {
            testResults.push({ testName, passed, message });
            displayTestResult(testName, passed, message);
        }

        function displayTestResult(testName, passed, message) {
            const resultsDiv = document.getElementById('test-results');
            const testCase = document.createElement('div');
            testCase.className = `test-case ${passed ? 'passed' : 'failed'}`;
            
            testCase.innerHTML = `
                <div class="test-name">${testName}</div>
                <div class="test-result">
                    <span class="${passed ? 'passed' : 'failed'}">
                        ${passed ? '‚úÖ PASSED' : '‚ùå FAILED'}
                    </span>
                    ${message ? ` - ${message}` : ''}
                </div>
            `;
            
            resultsDiv.appendChild(testCase);
        }

        function displaySummary() {
            const passed = testResults.filter(r => r.passed).length;
            const failed = testResults.filter(r => !r.passed).length;
            const total = testResults.length;

            const summaryDiv = document.getElementById('summary');
            summaryDiv.innerHTML = `
                <div class="summary">
                    <div class="summary-title">üìä Test Summary</div>
                    <div class="summary-item">Total Tests: <strong>${total}</strong></div>
                    <div class="summary-item"><span class="passed">‚úÖ Passed: ${passed}</span></div>
                    <div class="summary-item"><span class="failed">‚ùå Failed: ${failed}</span></div>
                    <div class="summary-item">Success Rate: <strong>${total > 0 ? ((passed/total)*100).toFixed(1) : 0}%</strong></div>
                </div>
            `;
        }

        // Test Suite 1: Form Field Existence
        function testActualTimeFieldExists() {
            console.log('Running: Actual Time Field Exists');
            
            const actualTimeInput = document.getElementById('demo-actual-time');
            const passed = actualTimeInput !== null && actualTimeInput.type === 'number';
            
            addTestResult(
                'Actual Time Field Exists',
                passed,
                passed ? 'Field found and is number type' : 'Field not found or wrong type'
            );
        }

        // Test Suite 2: Field Attributes
        function testActualTimeFieldAttributes() {
            console.log('Running: Actual Time Field Attributes');
            
            const actualTimeInput = document.getElementById('demo-actual-time');
            const hasMinAttr = actualTimeInput.hasAttribute('min');
            const hasStepAttr = actualTimeInput.hasAttribute('step');
            const minValue = actualTimeInput.getAttribute('min');
            const stepValue = actualTimeInput.getAttribute('step');
            
            const passed = hasMinAttr && hasStepAttr && minValue === '0' && stepValue === '0.5';
            
            addTestResult(
                'Actual Time Field Attributes',
                passed,
                passed ? 'All attributes correct' : 'Some attributes missing or incorrect'
            );
        }

        // Test Suite 3: Default Value
        function testActualTimeDefaultValue() {
            console.log('Running: Actual Time Default Value');
            
            const actualTimeInput = document.getElementById('demo-actual-time');
            const defaultValue = actualTimeInput.value;
            
            const passed = defaultValue === '0';
            
            addTestResult(
                'Actual Time Default Value',
                passed,
                passed ? 'Default value is 0' : `Default value is ${defaultValue}`
            );
        }

        // Test Suite 4: Input Validation
        function testActualTimeInputValidation() {
            console.log('Running: Actual Time Input Validation');
            
            const actualTimeInput = document.getElementById('demo-actual-time');
            
            // Test negative value
            actualTimeInput.value = '-5';
            const negativeTest = actualTimeInput.value === '-5'; // HTML allows it, validation is in JS
            
            // Test decimal value
            actualTimeInput.value = '3.5';
            const decimalTest = actualTimeInput.value === '3.5';
            
            // Test zero value
            actualTimeInput.value = '0';
            const zeroTest = actualTimeInput.value === '0';
            
            const passed = negativeTest && decimalTest && zeroTest;
            
            addTestResult(
                'Actual Time Input Validation',
                passed,
                passed ? 'All input types accepted' : 'Some input types rejected'
            );
        }

        // Test Suite 5: Field Interaction
        function testActualTimeFieldInteraction() {
            console.log('Running: Actual Time Field Interaction');
            
            const actualTimeInput = document.getElementById('demo-actual-time');
            
            // Test setting value
            actualTimeInput.value = '4.5';
            const setValueTest = actualTimeInput.value === '4.5';
            
            // Test getting value
            const getValue = parseFloat(actualTimeInput.value);
            const getValueTest = getValue === 4.5;
            
            // Test clearing value
            actualTimeInput.value = '';
            const clearTest = actualTimeInput.value === '';
            
            const passed = setValueTest && getValueTest && clearTest;
            
            addTestResult(
                'Actual Time Field Interaction',
                passed,
                passed ? 'All interactions work correctly' : 'Some interactions failed'
            );
        }

        // Test Suite 6: Estimated Time Field
        function testEstimatedTimeFieldExists() {
            console.log('Running: Estimated Time Field Exists');
            
            const estimatedTimeInput = document.getElementById('demo-estimated-time');
            const passed = estimatedTimeInput !== null && estimatedTimeInput.type === 'number';
            
            addTestResult(
                'Estimated Time Field Exists',
                passed,
                passed ? 'Field found and is number type' : 'Field not found or wrong type'
            );
        }

        // Test Suite 7: Form Data Collection
        function testFormDataCollection() {
            console.log('Running: Form Data Collection');
            
            const form = document.getElementById('demo-form');
            const estimatedTimeInput = document.getElementById('demo-estimated-time');
            const actualTimeInput = document.getElementById('demo-actual-time');
            const taskNameInput = document.getElementById('demo-task-name');
            
            // Set values
            estimatedTimeInput.value = '8';
            actualTimeInput.value = '6.5';
            taskNameInput.value = 'Test Task';
            
            // Collect data
            const formData = {
                taskName: taskNameInput.value,
                estimatedTime: parseFloat(estimatedTimeInput.value),
                actualTime: parseFloat(actualTimeInput.value)
            };
            
            const passed = formData.taskName === 'Test Task' && 
                          formData.estimatedTime === 8 && 
                          formData.actualTime === 6.5;
            
            addTestResult(
                'Form Data Collection',
                passed,
                passed ? 'All data collected correctly' : 'Data collection failed'
            );
        }

        // Test Suite 8: Time Comparison
        function testTimeComparison() {
            console.log('Running: Time Comparison');
            
            const estimatedTimeInput = document.getElementById('demo-estimated-time');
            const actualTimeInput = document.getElementById('demo-actual-time');
            
            // Test case 1: actual < estimated
            estimatedTimeInput.value = '5';
            actualTimeInput.value = '3';
            const test1 = parseFloat(actualTimeInput.value) < parseFloat(estimatedTimeInput.value);
            
            // Test case 2: actual = estimated
            estimatedTimeInput.value = '5';
            actualTimeInput.value = '5';
            const test2 = parseFloat(actualTimeInput.value) === parseFloat(estimatedTimeInput.value);
            
            // Test case 3: actual > estimated
            estimatedTimeInput.value = '5';
            actualTimeInput.value = '8';
            const test3 = parseFloat(actualTimeInput.value) > parseFloat(estimatedTimeInput.value);
            
            const passed = test1 && test2 && test3;
            
            addTestResult(
                'Time Comparison',
                passed,
                passed ? 'All comparisons work correctly' : 'Some comparisons failed'
            );
        }

        // Main test runner
        function runAllTests() {
            testResults.length = 0;
            document.getElementById('test-results').innerHTML = '';
            document.getElementById('summary').innerHTML = '';
            
            console.log('Starting Actual Time UI Tests...');
            
            testActualTimeFieldExists();
            testActualTimeFieldAttributes();
            testActualTimeDefaultValue();
            testActualTimeInputValidation();
            testActualTimeFieldInteraction();
            testEstimatedTimeFieldExists();
            testFormDataCollection();
            testTimeComparison();
            
            displaySummary();
            console.log('Tests completed!');
        }

        // Utility functions
        function resetForm() {
            document.getElementById('demo-estimated-time').value = '5';
            document.getElementById('demo-actual-time').value = '0';
            document.getElementById('demo-task-name').value = 'Sample Task';
            alert('Form reset!');
        }

        // Auto-run tests on page load
        window.addEventListener('load', () => {
            console.log('Page loaded, ready to run tests');
        });
    </script>
</body>
</html>
