# 曜日表示設定機能 ユーザーガイド

## 概要

曜日表示設定機能により、ユーザーは各曜日の表示/非表示を個別に設定でき、不要な曜日を非表示にして効率的なタスク管理が可能になります。

## 主な機能

### 1. 曜日の表示/非表示設定
- ヘッダーのチェックボックスで各曜日を個別に制御
- リアルタイムでの表示切り替え
- 設定の自動保存

### 2. タスクの自動移動
- 非表示にした曜日のタスクは自動的に未割り当てエリアに移動
- データの整合性を維持

### 3. 右クリックメニュー
- 日付列を右クリックでコンテキストメニューを表示
- タスクの一括移動機能
- 曜日の非表示機能

## 使用方法

### 曜日の表示/非表示切り替え

1. **ヘッダーの曜日設定を確認**
   - 「表示する曜日:」の横にチェックボックスが表示されます
   - 月・火・水・木・金・土・日の7つのチェックボックス

2. **曜日を非表示にする**
   - 非表示にしたい曜日のチェックボックスを外す
   - 該当する曜日列がアニメーション付きで非表示になります
   - その曜日のタスクは自動的に未割り当てエリアに移動

3. **曜日を再表示する**
   - 表示したい曜日のチェックボックスにチェックを入れる
   - 該当する曜日列がアニメーション付きで表示されます

### 右クリックメニューの使用

1. **メニューの表示**
   - 任意の日付列のヘッダー部分を右クリック
   - コンテキストメニューが表示されます

2. **タスクの一括移動**
   - 「○個のタスクを未割り当てに移動」を選択
   - 確認ダイアログが表示されます
   - 「OK」をクリックするとその日のタスクが未割り当てに移動

3. **曜日の非表示**
   - 「○曜日を非表示」を選択
   - 確認ダイアログが表示されます
   - 「OK」をクリックするとその曜日が非表示になります

## 通知システム

### 通知の種類
- **成功通知（緑）**: タスクの移動完了など
- **情報通知（青）**: 一般的な操作完了
- **警告通知（オレンジ）**: 注意が必要な操作
- **エラー通知（赤）**: 操作の失敗

### 通知の表示
- 画面右上に4秒間表示
- アニメーション付きで表示・非表示
- 複数の通知は順次表示

## 設定の永続化

### 自動保存
- 曜日設定の変更は自動的にLocalStorageに保存
- ブラウザを再起動しても設定が保持されます

### 設定のリセット
- ブラウザのLocalStorageをクリアすると初期設定に戻ります
- 初期設定では全曜日が表示状態

## 既存機能との連携

### ドラッグ&ドロップ
- 非表示の曜日列にはタスクをドロップできません
- 表示中の曜日間でのドラッグ&ドロップは正常に動作

### カテゴリフィルター
- 曜日設定とカテゴリフィルターは独立して動作
- 両方のフィルターが同時に適用されます

### エクスポート・インポート
- 曜日設定もデータと一緒にエクスポート・インポートされます

## トラブルシューティング

### よくある問題

**Q: 曜日を非表示にしたのにタスクが消えた**
A: タスクは未割り当てエリアに移動しています。未割り当てエリアを確認してください。

**Q: 設定が保存されない**
A: ブラウザのLocalStorageが無効になっている可能性があります。ブラウザの設定を確認してください。

**Q: 右クリックメニューが表示されない**
A: タスク要素の上ではなく、日付列のヘッダー部分を右クリックしてください。

**Q: アニメーションが重い**
A: 古いブラウザやスペックの低いデバイスでは動作が重くなる場合があります。

### エラーメッセージ

- **「設定の保存に失敗しました」**: LocalStorageへの書き込みエラー
- **「タスクの移動に失敗しました」**: タスクデータの更新エラー
- **「移動するタスクがありませんでした」**: 指定日にタスクが存在しない

## 技術仕様

### 対応ブラウザ
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

### パフォーマンス
- 曜日切り替え: 400ms以内
- タスク一括移動: 1秒以内
- 設定保存: 100ms以内

### データ形式
```javascript
{
  "weekday_visibility": {
    "monday": true,
    "tuesday": true,
    "wednesday": true,
    "thursday": true,
    "friday": true,
    "saturday": false,
    "sunday": false
  }
}
```

## 更新履歴

### v1.0.0 (2024-10-27)
- 曜日表示設定機能の初回リリース
- 基本的な表示/非表示切り替え
- タスク自動移動機能
- 右クリックコンテキストメニュー
- 通知システム
- LocalStorage統合

---

**開発者**: Kiro AI Assistant  
**最終更新**: 2024年10月27日